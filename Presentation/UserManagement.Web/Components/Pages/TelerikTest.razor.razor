@page "/telerik-test"
@using Telerik.Blazor.Components

<h3>Telerik gyors teszt</h3>

<TelerikTextBox @bind-Value="@name" Width="250px" Placeholder="Írj be egy nevet..." />
<TelerikButton OnClick="@Add" Class="ms-2">Hozzáadás</TelerikButton>

<p class="mt-3">Összes elem: @items.Count</p>

<TelerikGrid Data="@items" Height="260px">
    <GridColumns>
        <GridColumn Field="@nameof(Row.Id)" Title="Id" Width="80px" />
        <GridColumn Field="@nameof(Row.Name)" Title="Name" />
        <GridColumn Field="@nameof(Row.CreatedAt)" Title="Created" />
    </GridColumns>
</TelerikGrid>

@code {
    private string name = "";
    private List<Row> items = new()
    {
        new Row(1, "First Row", DateTime.Now)
    };

    private void Add()
    {
        var nextId = items.Count == 0 ? 1 : items.Max(x => x.Id) + 1;
        items.Insert(0, new Row(nextId, string.IsNullOrWhiteSpace(name) ? "(empty)" : name, DateTime.Now));
        name = "";
    }

    public record Row(int Id, string Name, DateTime CreatedAt);
}
